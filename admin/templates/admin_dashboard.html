<!DOCTYPE html>
<html>
<head>
<title>Admin Dashboard ‚Äì Learnify.AI</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
body{
  font-family:"Poppins",sans-serif;
  background:linear-gradient(135deg,#0b132b,#1c2541);
  color:white;
  margin:0;
}

.sidebar{
  width:240px;
  height:100vh;
  background:rgba(255,255,255,0.03);
  position:fixed;
  padding:22px;
  backdrop-filter:blur(12px);
}

.sidebar h2{
  color:#90e0ef;
  text-align:center;
}

.menu li{
  list-style:none;
  padding:12px;
  margin:10px 0;
  background:#ffffff08;
  border-radius:10px;
  cursor:pointer;
}
.menu li:hover{ background:#00b4d840; }

.main{
  margin-left:260px;
  padding:25px;
}

.cards{
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:18px;
}

.card{
  background:#ffffff08;
  padding:20px;
  border-radius:14px;
  text-align:center;
}
.card h3{ color:#90e0ef; }

.chart-box{
  margin-top:30px;
  background:#ffffff08;
  padding:20px;
  border-radius:14px;
}
</style>
</head>

<body>

<div class="sidebar">
  <h2>‚ö° Admin</h2>
  <ul class="menu">
    <li onclick="window.location='/admin'">üìä Dashboard</li>
    <li onclick="window.location='/admin/users'">üë• Users</li>
    <li onclick="window.location='/admin/feedback'">üìù Feedback</li>
    <li onclick="window.location='/admin/settings'">‚öô Settings</li>
  </ul>
</div>

<div class="main">
  <h1>Dashboard Overview</h1>

  <div class="cards">
    <div class="card">
      <h3>{{ total_users }}</h3>
      <p>Total Users</p>
    </div>

    <div class="card">
      <h3>{{ total_feedback }}</h3>
      <p>Total Feedback</p>
    </div>

    <div class="card">
      <h3>{{ topic_data|length }}</h3>
      <p>Unique Topics</p>
    </div>

    <div class="card">
      <h3>AI Mode</h3>
      <p>Insights Activated</p>
    </div>
  </div>

  <div class="chart-box">
    <canvas id="topicsChart"></canvas>
  </div>
</div>

<script>
const labels = {{ topic_data.keys()|list }};
const values = {{ topic_data.values()|list }};

new Chart(document.getElementById('topicsChart'), {
  type: 'pie',
  data: {
    labels: labels,
    datasets: [{
      data: values,
      backgroundColor: ["#00b4d8","#0077b6","#48cae4","#90e0ef","#03045e"]
    }]
  }
});
</script>

</body>
</html>
